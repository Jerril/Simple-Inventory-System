<%- include('partials/header'); %>
    <h1 class='title'>
        <%= title %>
    </h1>
    <div class="body">
        <form action="/category" method="POST">
            <h1>Add New Category</h1>
            <label for="">
                <input type="text" name="name" placeholder="Category Name" value="<%= undefined===category ? '' : category.name %>">
            </label>
            <label for="">
                <input type="text" name="description" placeholder="Description" value="<%= undefined===category ? '' : category.description %>">
            </label>
            <button type="submit">Submit</button>
        </form>
        <div class="error">
            <ul>
                <% if(errors){
                    errors.map((category, i) => { %>
                    <li>
                        <%= category.msg %>
                    </li>
                    <% })
                } %>
            </ul>
        </div>
        <table class="styled-table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Desc.</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
                <% category_list.forEach((category, index) => { %>
                    <tr>
                        <td>
                            <%= category.name %>
                        </td>
                        <td>
                            <%= category.description %>
                        </td>
                        </td>
                        <td><a href="/category/<%= category._id %>/update">Update</button></a>
                            <td>
                                <form action="/category/<%= category._id %>/delete" method="POST">
                                    <button type="submit">Delete</button>
                                </form>
                            </td>
                    </tr>
                    <% }) %>
            </tbody>
        </table>
    </div>
    <%- include('partials/footer'); %>